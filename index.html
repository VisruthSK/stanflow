<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!-- upstream: inst/BS5/templates/head.html; pkgdown-version: 2.1.3, fe04924 --><!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 --><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>An integrated Stan-based Bayesian Workflow • stanflow</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<!-- mathjax math --><script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@4.0.0/tex-mml-chtml.js" integrity="sha256-qoRlVrS5NAnXSSSiMfFXwK8C9obG11Iybe4h2+bQYR4=" crossorigin="anonymous">
  </script><script src="lightswitch.js"></script><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Source_Sans_3-0.4.10/font.css" rel="stylesheet">
<link href="deps/Source_Code_Pro-0.4.10/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- Font Awesome 7.0.1 for Bluesky icon --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" referrerpolicy="no-referrer">
<!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="An integrated Stan-based Bayesian Workflow">
<meta name="description" content="Streamlines access to the Stan ecosystem by attaching core workflow packages, surfacing conflicts, and providing helpers to set up Stan interfaces with sensible defaults. Facilitates the Bayesian Workflow as described in Gelman et al. (2020) &lt;https://arxiv.org/abs/2011.01808&gt;.">
<meta property="og:description" content="Streamlines access to the Stan ecosystem by attaching core workflow packages, surfacing conflicts, and providing helpers to set up Stan interfaces with sensible defaults. Facilitates the Bayesian Workflow as described in Gelman et al. (2020) &lt;https://arxiv.org/abs/2011.01808&gt;.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <!-- upstream: inst/BS5/templates/navbar.html; pkgdown-version: 2.1.3, fe04924 -->
<!-- https://github.com/r-lib/pkgdown/tree/fe04924b3df129bea60ac871614b01d87bcae147 -->
<nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">


    <a class="navbar-brand me-2" href="index.html">
      <!-- Add Stan logo -->
      <picture><source type="image/svg+xml" srcset="logo.svg"><img src="logo.png" class="stan-logo" alt="Stan blue hex logo"></source></picture>
      stanflow
    </a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="index.html" aria-label="Go to homepage"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="articles/index.html">Vignettes</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Functions</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-other-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Other Packages</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-other-packages">
<li><a class="external-link dropdown-item" href="https://mc-stan.org/bayesplot">bayesplot</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/cmdstanr">cmdstanr</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/loo">loo</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/posterior">posterior</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/projpred">projpred</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstan">rstan</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstanarm">rstanarm</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/rstantools">rstantools</a></li>
    <li><a class="external-link dropdown-item" href="https://mc-stan.org/shinystan">shinystan</a></li>
  </ul>
</li>
<li class="nav-item"><a class="external-link nav-link" href="https://mc-stan.org/about/">About Stan</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bsky.app/profile/did:plc:qznndgdnkem2yryu7ipqbpv7" aria-label="Visit our Bluesky profile"><span class="fa fa-brands fa-bluesky"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://discourse.mc-stan.org/" aria-label="Visit our forums"><span class="fa fa-users"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/VisruthSK/stanflow/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="stanflow-stan-bayesian-workflow">stanflow (Stan Bayesian Workflow)<a class="anchor" aria-label="anchor" href="#stanflow-stan-bayesian-workflow"></a>
</h1></div>
<!-- badges: start -->

<p><code>stanflow</code> offers an integrated, mildly opinionated access to a Stan-based <a href="https://arxiv.org/abs/2011.01808" class="external-link">Bayesian Workflow</a> (Gelman et al. 2020). Much like the famous <a href="https://github.com/tidyverse/tidyverse" class="external-link">tidyverse package</a>, <code>stanflow</code> is a metapackage which installs and attaches relevant Stan R packages, serving as a one-stop-shop for Bayesian modelling. <code>stanflow</code> draws heavy inspiration from <code>tidyverse</code>, and reuses portions of its codebase–however, <code>stanflow</code> eschews <code>tidyverse</code> packages (i.e., <code>purrr</code>, <code>dplyr</code>, etc.) for base R whenever necessary.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of stanflow from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"VisruthSK/stanflow"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>Here, we load <code>stanflow</code> and decide to use <code>cmdstanr</code> as the backend for <code>brms</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://visruthsk.github.io/stanflow/">stanflow</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/setup_interface.html">setup_interface</a></span><span class="op">(</span></span>
<span>  interface <span class="op">=</span> <span class="st">"brms"</span>,</span>
<span>  dev <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  brms_backend <span class="op">=</span> <span class="st">"cmdstanr"</span>,</span>
<span>  cores <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  force <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  check_updates <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; ℹ Adding cmdstanr to setup because `brms_backend = 'cmdstanr'`</span></span>
<span><span class="co">#&gt; ℹ Attaching brms...</span></span>
<span><span class="co">#&gt; ℹ Configured brms: set `options(mc.cores = 2)` and `options(brms.backend = 'cmdstanr')`</span></span>
<span><span class="co">#&gt; ℹ Attaching cmdstanr...</span></span>
<span><span class="co">#&gt; The C++ toolchain required for CmdStan is setup properly!</span></span>
<span><span class="co">#&gt; ℹ Found CmdStan v2.37.0 at 'C:/Users/visru/.cmdstan/cmdstan-2.37.0'</span></span>
<span><span class="co">#&gt; ✔ Setup complete. brms, cmdstanr are attached; you do not need to run `library()`.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/flow_check.html">flow_check</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; ── Attaching Stan processing packages ─────────────────── stanflow 0.0.0.9000 ──</span></span>
<span><span class="co">#&gt; ✔ bayesplot 1.15.0         ✔ projpred  2.10.0    </span></span>
<span><span class="co">#&gt; ✔ loo       2.8.0.9000     ✔ shinystan 2.7.0     </span></span>
<span><span class="co">#&gt; ✔ posterior 1.6.1          </span></span>
<span><span class="co">#&gt; ── Available Stan interfaces ────────────────────────────── setup_interface() ──</span></span>
<span><span class="co">#&gt; ✔ brms     2.22.0          • rstan    2.36.0.9000</span></span>
<span><span class="co">#&gt; ✔ cmdstanr 0.9.0           • rstanarm 2.32.2     </span></span>
<span><span class="co">#&gt; ── Conflicts ─────────────────────────────────────────── stanflow_conflicts() ──</span></span>
<span><span class="co">#&gt; ✖ brms::ar()      masks stats::ar()</span></span>
<span><span class="co">#&gt; ✖ brms::do_call() masks projpred::do_call()</span></span>
<span><span class="co">#&gt; ✖ brms::rhat()    masks posterior::rhat(), bayesplot::rhat()</span></span>
<span><span class="co">#&gt; ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</span></span></code></pre></div>
<p>With the first two commands (note that the <code><a href="reference/setup_interface.html">setup_interface()</a></code> call is unnecessarily verbose), users have access to everything they need to fit and interrogate Bayesian models. Specifically, those two commands will load the core stanflow packages: <code>bayesplot</code>, <code>loo</code>, <code>posterior</code>, <code>projpred</code> and <code>shinystan</code>, as well as setup <code>brms</code> to use the <code>cmdstanr</code> backend with as many cores as are available on your machine. These package (inlcuding <code>brms</code> and <code>cmdstanr</code>) are all “<code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code>d” as well, so we can proceed with our analysis immediately.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cmdstanr_example</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;    variable   mean median   sd  mad     q5    q95 rhat ess_bulk ess_tail</span></span>
<span><span class="co">#&gt;  lp__       -65.94 -65.62 1.39 1.19 -68.67 -64.29 1.00     1996     2876</span></span>
<span><span class="co">#&gt;  alpha        0.38   0.37 0.21 0.22   0.03   0.74 1.00     4087     3110</span></span>
<span><span class="co">#&gt;  beta[1]     -0.67  -0.67 0.25 0.25  -1.09  -0.27 1.00     4516     2758</span></span>
<span><span class="co">#&gt;  beta[2]     -0.27  -0.26 0.22 0.22  -0.64   0.09 1.00     3520     3012</span></span>
<span><span class="co">#&gt;  beta[3]      0.67   0.66 0.27 0.27   0.24   1.12 1.00     4444     3098</span></span>
<span><span class="co">#&gt;  log_lik[1]  -0.51  -0.51 0.10 0.10  -0.68  -0.37 1.00     3705     3254</span></span>
<span><span class="co">#&gt;  log_lik[2]  -0.41  -0.39 0.15 0.14  -0.67  -0.20 1.00     4327     3192</span></span>
<span><span class="co">#&gt;  log_lik[3]  -0.50  -0.46 0.22 0.20  -0.91  -0.20 1.00     3433     2935</span></span>
<span><span class="co">#&gt;  log_lik[4]  -0.45  -0.43 0.15 0.15  -0.73  -0.24 1.00     3605     2931</span></span>
<span><span class="co">#&gt;  log_lik[5]  -1.18  -1.16 0.28 0.28  -1.67  -0.75 1.00     4895     3413</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  # showing 10 of 105 rows (change via 'max_rows' argument or 'cmdstanr_max_rows' option)</span></span>
<span></span>
<span><span class="va">fit1</span> <span class="op">&lt;-</span> <span class="fu">brm</span><span class="op">(</span></span>
<span>  <span class="va">count</span> <span class="op">~</span> <span class="va">zAge</span> <span class="op">+</span> <span class="va">zBase</span> <span class="op">*</span> <span class="va">Trt</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">patient</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="va">epilepsy</span>,</span>
<span>  family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">poisson</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  refresh <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Start sampling</span></span>
<span><span class="co">#&gt; Running MCMC with 4 chains, at most 20 in parallel...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Chain 1 finished in 8.1 seconds.</span></span>
<span><span class="co">#&gt; Chain 2 finished in 8.1 seconds.</span></span>
<span><span class="co">#&gt; Chain 3 finished in 8.1 seconds.</span></span>
<span><span class="co">#&gt; Chain 4 finished in 8.5 seconds.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; All 4 chains finished successfully.</span></span>
<span><span class="co">#&gt; Mean chain execution time: 8.2 seconds.</span></span>
<span><span class="co">#&gt; Total execution time: 8.6 seconds.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit1</span><span class="op">)</span></span>
<span><span class="co">#&gt;  Family: poisson </span></span>
<span><span class="co">#&gt;   Links: mu = log </span></span>
<span><span class="co">#&gt; Formula: count ~ zAge + zBase * Trt + (1 | patient) </span></span>
<span><span class="co">#&gt;    Data: epilepsy (Number of observations: 236) </span></span>
<span><span class="co">#&gt;   Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;</span></span>
<span><span class="co">#&gt;          total post-warmup draws = 4000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Multilevel Hyperparameters:</span></span>
<span><span class="co">#&gt; ~patient (Number of levels: 59) </span></span>
<span><span class="co">#&gt;               Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co">#&gt; sd(Intercept)     0.58      0.07     0.46     0.74 1.01      751     1459</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Regression Coefficients:</span></span>
<span><span class="co">#&gt;            Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co">#&gt; Intercept      1.76      0.12     1.53     1.99 1.01      728     1469</span></span>
<span><span class="co">#&gt; zAge           0.09      0.08    -0.07     0.26 1.00      848     1597</span></span>
<span><span class="co">#&gt; zBase          0.70      0.12     0.46     0.94 1.00      816     1347</span></span>
<span><span class="co">#&gt; Trt1          -0.26      0.17    -0.57     0.07 1.00      714     1196</span></span>
<span><span class="co">#&gt; zBase:Trt1     0.05      0.17    -0.28     0.38 1.00      904     1528</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Draws were sampled using sample(hmc). For each parameter, Bulk_ESS</span></span>
<span><span class="co">#&gt; and Tail_ESS are effective sample size measures, and Rhat is the potential</span></span>
<span><span class="co">#&gt; scale reduction factor on split chains (at convergence, Rhat = 1).</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">fit1</span>, variable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"b_Trt1"</span>, <span class="st">"b_zBase"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-2-1.png" style="width:100.0%"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">fit2</span> <span class="op">&lt;-</span> <span class="fu">brm</span><span class="op">(</span></span>
<span>  <span class="va">count</span> <span class="op">~</span> <span class="va">zAge</span> <span class="op">+</span> <span class="va">zBase</span> <span class="op">*</span> <span class="va">Trt</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">patient</span><span class="op">)</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">|</span> <span class="va">obs</span><span class="op">)</span>,</span>
<span>  data <span class="op">=</span> <span class="va">epilepsy</span>,</span>
<span>  family <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/family.html" class="external-link">poisson</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  refresh <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Start sampling</span></span>
<span><span class="co">#&gt; Running MCMC with 4 chains, at most 20 in parallel...</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Chain 1 finished in 10.9 seconds.</span></span>
<span><span class="co">#&gt; Chain 4 finished in 10.9 seconds.</span></span>
<span><span class="co">#&gt; Chain 2 finished in 11.0 seconds.</span></span>
<span><span class="co">#&gt; Chain 3 finished in 11.5 seconds.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; All 4 chains finished successfully.</span></span>
<span><span class="co">#&gt; Mean chain execution time: 11.1 seconds.</span></span>
<span><span class="co">#&gt; Total execution time: 11.7 seconds.</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">fit2</span><span class="op">)</span></span>
<span><span class="co">#&gt;  Family: poisson </span></span>
<span><span class="co">#&gt;   Links: mu = log </span></span>
<span><span class="co">#&gt; Formula: count ~ zAge + zBase * Trt + (1 | patient) + (1 | obs) </span></span>
<span><span class="co">#&gt;    Data: epilepsy (Number of observations: 236) </span></span>
<span><span class="co">#&gt;   Draws: 4 chains, each with iter = 2000; warmup = 1000; thin = 1;</span></span>
<span><span class="co">#&gt;          total post-warmup draws = 4000</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Multilevel Hyperparameters:</span></span>
<span><span class="co">#&gt; ~obs (Number of levels: 236) </span></span>
<span><span class="co">#&gt;               Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co">#&gt; sd(Intercept)     0.37      0.04     0.29     0.46 1.00     1349     1967</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ~patient (Number of levels: 59) </span></span>
<span><span class="co">#&gt;               Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co">#&gt; sd(Intercept)     0.54      0.07     0.41     0.70 1.00     1125     1797</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Regression Coefficients:</span></span>
<span><span class="co">#&gt;            Estimate Est.Error l-95% CI u-95% CI Rhat Bulk_ESS Tail_ESS</span></span>
<span><span class="co">#&gt; Intercept      1.72      0.12     1.49     1.95 1.00     1088     2092</span></span>
<span><span class="co">#&gt; zAge           0.09      0.09    -0.09     0.26 1.00     1055     1569</span></span>
<span><span class="co">#&gt; zBase          0.70      0.12     0.47     0.94 1.00      971     1557</span></span>
<span><span class="co">#&gt; Trt1          -0.26      0.16    -0.59     0.06 1.00      922     1751</span></span>
<span><span class="co">#&gt; zBase:Trt1     0.06      0.16    -0.26     0.37 1.00     1045     1803</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Draws were sampled using sample(hmc). For each parameter, Bulk_ESS</span></span>
<span><span class="co">#&gt; and Tail_ESS are effective sample size measures, and Rhat is the potential</span></span>
<span><span class="co">#&gt; scale reduction factor on split chains (at convergence, Rhat = 1).</span></span>
<span></span>
<span><span class="fu">loo</span><span class="op">(</span><span class="va">fit1</span>, <span class="va">fit2</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Found 6 observations with a pareto_k &gt; 0.7 in model 'fit1'. We</span></span>
<span><span class="co">#&gt; recommend to set 'moment_match = TRUE' in order to perform moment matching for</span></span>
<span><span class="co">#&gt; problematic observations.</span></span>
<span><span class="co">#&gt; Warning: Found 58 observations with a pareto_k &gt; 0.7 in model 'fit2'. We</span></span>
<span><span class="co">#&gt; recommend to set 'moment_match = TRUE' in order to perform moment matching for</span></span>
<span><span class="co">#&gt; problematic observations.</span></span>
<span><span class="co">#&gt; Output of model 'fit1':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computed from 4000 by 236 log-likelihood matrix.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;          Estimate   SE</span></span>
<span><span class="co">#&gt; elpd_loo   -671.9 36.8</span></span>
<span><span class="co">#&gt; p_loo        94.4 14.5</span></span>
<span><span class="co">#&gt; looic      1343.8 73.6</span></span>
<span><span class="co">#&gt; ------</span></span>
<span><span class="co">#&gt; MCSE of elpd_loo is NA.</span></span>
<span><span class="co">#&gt; MCSE and ESS estimates assume MCMC draws (r_eff in [0.4, 2.2]).</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Pareto k diagnostic values:</span></span>
<span><span class="co">#&gt;                          Count Pct.    Min. ESS</span></span>
<span><span class="co">#&gt; (-Inf, 0.7]   (good)     230   97.5%   142     </span></span>
<span><span class="co">#&gt;    (0.7, 1]   (bad)        5    2.1%   &lt;NA&gt;    </span></span>
<span><span class="co">#&gt;    (1, Inf)   (very bad)   1    0.4%   &lt;NA&gt;    </span></span>
<span><span class="co">#&gt; See help('pareto-k-diagnostic') for details.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Output of model 'fit2':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Computed from 4000 by 236 log-likelihood matrix.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;          Estimate   SE</span></span>
<span><span class="co">#&gt; elpd_loo   -594.6 13.9</span></span>
<span><span class="co">#&gt; p_loo       107.2  7.1</span></span>
<span><span class="co">#&gt; looic      1189.1 27.7</span></span>
<span><span class="co">#&gt; ------</span></span>
<span><span class="co">#&gt; MCSE of elpd_loo is NA.</span></span>
<span><span class="co">#&gt; MCSE and ESS estimates assume MCMC draws (r_eff in [0.4, 1.7]).</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Pareto k diagnostic values:</span></span>
<span><span class="co">#&gt;                          Count Pct.    Min. ESS</span></span>
<span><span class="co">#&gt; (-Inf, 0.7]   (good)     178   75.4%   248     </span></span>
<span><span class="co">#&gt;    (0.7, 1]   (bad)       55   23.3%   &lt;NA&gt;    </span></span>
<span><span class="co">#&gt;    (1, Inf)   (very bad)   3    1.3%   &lt;NA&gt;    </span></span>
<span><span class="co">#&gt; See help('pareto-k-diagnostic') for details.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Model comparisons:</span></span>
<span><span class="co">#&gt;      elpd_diff se_diff</span></span>
<span><span class="co">#&gt; fit2   0.0       0.0  </span></span>
<span><span class="co">#&gt; fit1 -77.3      27.4</span></span></code></pre></div>
<p>Code snippets above are taken from the <a href="https://paulbuerkner.com/brms/" class="external-link"><code>brms</code> README</a> but aren’t directly comparable.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/VisruthSK/stanflow/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/VisruthSK/stanflow/issues/" class="external-link">Report a bug</a></li>
<li><a href="http://discourse.mc-stan.org/" class="external-link">Ask a question</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/BSD-3-Clause" class="external-link">BSD_3_clause</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing stanflow</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Visruth Srimath Kandali <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0009-0005-9097-0688" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/VisruthSK/stanflow/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/VisruthSK/stanflow/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://github.com/VisruthSK/stanflow/actions/workflows/pkgdown.yaml" class="external-link"><img src="https://github.com/VisruthSK/stanflow/actions/workflows/pkgdown.yaml/badge.svg" alt="pkgdown"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Visruth Srimath Kandali.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
